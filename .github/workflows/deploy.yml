...
    - name: Deploy code to EC2
      run: |
        ssh -o StrictHostKeyChecking=no ${{ secrets.USERNAME }}@${{ secrets.HOST }} << 'EOF'
          set -e

          echo "ðŸ” Pulling latest code..."
          cd ${{ secrets.APP_DIR }}
          git pull origin main

          echo "ðŸ”¨ Building Java backend..."
          cd crud_Operation
          chmod +x mvnw     # ðŸ‘ˆ Add this line to fix the permission error
          ./mvnw clean package -DskipTests

          echo "ðŸ›‘ Stopping old Java process..."
          pkill -f 'crud_Operation-0.0.1-SNAPSHOT.jar' || true

          echo "ðŸš€ Starting backend..."
          nohup java -jar target/*-SNAPSHOT.jar > backend.log 2>&1 &

          echo "ðŸ“¦ Installing frontend dependencies..."
          cd ../client
          npm install

          echo "ðŸ›  Building frontend..."
          npm run dev

          echo "âœ… Fullstack Java + React app deployed!"
        EOF
